{"_id":"note:OscwCMrQpd","title":"Fetch","content":"\n# Fetch API\n\n### GET Request\n\n```js \n// Step 1\n\nconst url = \"https://api.rebrandly.com/v1/account\";\n\nconst initObject = {\n    method: \"GET\",\n    headers: {\n        \"Content-Type\": \"application/json\",\n        \"apikey\": \"ac2b4dbc612b4a3d9057b3d402742d73\"\n    }\n}\n\n\n// Step 2 - Convert Response to JSON and Return a Promise\nconst convertToJson = (response) => {\n    if (response.ok) {\n        return response.json()\n    }\n    throw new Error(\"Not Found\")\n}\n\n// Step 3 - Handle Error\nconst handleError = (networkError) => {\n    console.log(networkError.message)\n}\n\n\n// Step 4 - Log Response\nconst logResponse = (jsonResponse) => {\n    console.log(jsonResponse)\n}\n\n\nfetch(url, initObject).then(convertToJson, handleError).then(logResponse)\n\n```\n\n\n### POST Request\n\n```js \nconst url = \"https://api.rebrandly.com/v1/account\";\nconst urlToShorten = \"google.com\"\nconst data = JSON.stringify({destination: urlToShorten});\n\n\nconst initObject = {\n    method: \"POST\",\n    headers: {\n        \"Content-Type\": \"application/json\",\n        \"apikey\": \"ac2b4dbc612b4a3d9057b3d402742d73\"\n    },\n    body: data\n}\n\n\n// Step 2 - Convert Response to JSON and Return a Promise\nconst convertToJson = (response) => {\n    if (response.ok) {\n        return response.json()\n    }\n    throw new Error(\"Not Found\")\n}\n\n// Step 3 - Handle Error\nconst handleError = (networkError) => {\n    console.log(networkError.message)\n}\n\n\n// Step 4 - Log Response\nconst logResponse = (jsonResponse) => {\n    console.log(jsonResponse)\n}\n\n\nfetch(url, initObject).then(convertToJson, handleError).then(logResponse)\n\n```","tags":[],"folderPathname":"/ðŸ“— BackEnd/AJAX/API","data":{},"createdAt":"2022-08-22T02:25:12.656Z","updatedAt":"2022-08-22T03:22:19.844Z","trashed":false,"_rev":"nAt-9G8sS"}